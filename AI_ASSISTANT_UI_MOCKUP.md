# AI Assistant - UI Mockup 🎨

## Интерфейс компонента

### 1. Кнопка на карточке

```
┌────────────────────────────────────────┐
│  📦 Оплата заказа            [MVP]     │
│                                        │
│  Пользователь может оплатить заказ     │
│  через платёжную систему               │
│                                        │
│  3 AC                                  │
│                                        │
│  [Редактировать] [✨ AI]               │
│       ↑              ↑                 │
│   Существует    НОВАЯ КНОПКА!          │
└────────────────────────────────────────┘
```

### 2. Модальное окно AI Assistant

```
╔══════════════════════════════════════════════════════════════════╗
║                                                                  ║
║  ✨ AI Assistant                                          [✕]    ║
║  Интерактивное улучшение карточки через AI                       ║
║                                                                  ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │ Текущая история:                                           │ ║
║  │                                                            │ ║
║  │ 📦 Оплата заказа                                          │ ║
║  │ Пользователь может оплатить заказ через платёжную систему │ ║
║  │                                                            │ ║
║  │ [MVP]  [3 AC]                                             │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
║  Быстрые действия:                                               ║
║                                                                  ║
║  ┌─────────────────────────┐  ┌─────────────────────────┐       ║
║  │  📝 Добавить детали     │  │  ✅ Улучшить критерии   │       ║
║  └─────────────────────────┘  └─────────────────────────┘       ║
║                                                                  ║
║  ┌─────────────────────────┐  ┌─────────────────────────┐       ║
║  │  ✂️ Разделить          │  │  ⚠️ Edge cases         │       ║
║  └─────────────────────────┘  └─────────────────────────┘       ║
║                                                                  ║
║  Или напишите свой запрос:                                       ║
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │ Например: Добавь больше информации про                     │ ║
║  │ обработку платежей...                                      │ ║
║  │                                                            │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │              ✨ Улучшить историю                           │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
║  ℹ️ Лимит: 20 запросов в час на карточку                        ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝
```

### 3. После успешного улучшения

```
╔══════════════════════════════════════════════════════════════════╗
║                                                                  ║
║  ✨ AI Assistant                                          [✕]    ║
║  Интерактивное улучшение карточки через AI                       ║
║                                                                  ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  [... текущая история ...]                                       ║
║  [... быстрые действия ...]                                      ║
║  [... текстовое поле ...]                                        ║
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │ ✅ История успешно улучшена                                │ ║
║  │                                                            │ ║
║  │ AI добавил больше деталей про безопасность платежей и      │ ║
║  │ расширил acceptance criteria                               │ ║
║  │                                                            │ ║
║  │ ┌──────────────────────────────────────────────────────┐  │ ║
║  │ │ Обновлённая история:                                 │  │ ║
║  │ │                                                      │  │ ║
║  │ │ 📦 Оплата заказа через защищённую платёжную систему │  │ ║
║  │ │                                                      │  │ ║
║  │ │ Как клиент, я хочу оплатить заказ банковской        │  │ ║
║  │ │ картой через безопасный платёжный шлюз с PCI DSS    │  │ ║
║  │ │ сертификацией, чтобы...                             │  │ ║
║  │ │                                                      │  │ ║
║  │ │ Acceptance Criteria:                                │  │ ║
║  │ │ • Форма защищена SSL сертификатом                   │  │ ║
║  │ │ • Поддержка 3D Secure для карт                      │  │ ║
║  │ │ • CVV код не сохраняется на сервере                 │  │ ║
║  │ │ • После оплаты генерируется уникальный ID           │  │ ║
║  │ │ • Email с чеком отправляется в течение 1 минуты     │  │ ║
║  │ └──────────────────────────────────────────────────────┘  │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
║  История улучшений:                                              ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │ 18:45 ✓ Добавь больше деталей про оплату                  │ ║
║  │         История успешно улучшена                           │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝
```

### 4. Split Action - Разделение истории

```
╔══════════════════════════════════════════════════════════════════╗
║                                                                  ║
║  ✨ AI Assistant                                          [✕]    ║
║                                                                  ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │ ✅ История разделена на несколько частей                   │ ║
║  │                                                            │ ║
║  │ Сложная история разделена на 3 независимые истории для    │ ║
║  │ лучшей управляемости и оценки                             │ ║
║  │                                                            │ ║
║  │ Предлагаемые истории (3):                                 │ ║
║  │                                                            │ ║
║  │ ┌──────────────────────────────────────────────────────┐  │ ║
║  │ │ 1️⃣ Редактирование базовой информации профиля         │  │ ║
║  │ │                                                      │  │ ║
║  │ │ Как пользователь, я хочу редактировать имя, email,  │  │ ║
║  │ │ и телефон в профиле...                              │  │ ║
║  │ │                                                      │  │ ║
║  │ │ [MVP]  [4 AC]                                       │  │ ║
║  │ └──────────────────────────────────────────────────────┘  │ ║
║  │                                                            │ ║
║  │ ┌──────────────────────────────────────────────────────┐  │ ║
║  │ │ 2️⃣ Смена пароля и настройки безопасности             │  │ ║
║  │ │                                                      │  │ ║
║  │ │ Как пользователь, я хочу менять пароль и            │  │ ║
║  │ │ настраивать 2FA...                                  │  │ ║
║  │ │                                                      │  │ ║
║  │ │ [Release 1]  [5 AC]                                 │  │ ║
║  │ └──────────────────────────────────────────────────────┘  │ ║
║  │                                                            │ ║
║  │ ┌──────────────────────────────────────────────────────┐  │ ║
║  │ │ 3️⃣ Управление аватаром и уведомлениями               │  │ ║
║  │ │                                                      │  │ ║
║  │ │ Как пользователь, я хочу загружать аватар и         │  │ ║
║  │ │ управлять настройками уведомлений...                │  │ ║
║  │ │                                                      │  │ ║
║  │ │ [Later]  [3 AC]                                     │  │ ║
║  │ └──────────────────────────────────────────────────────┘  │ ║
║  │                                                            │ ║
║  │ ┌──────────────────────────────────────────────────────┐  │ ║
║  │ │          🔄 Применить разделение                     │  │ ║
║  │ └──────────────────────────────────────────────────────┘  │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝
```

### 5. Loading State

```
╔══════════════════════════════════════════════════════════════════╗
║                                                                  ║
║  ✨ AI Assistant                                          [✕]    ║
║                                                                  ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  [... текущая история ...]                                       ║
║  [... быстрые действия ...]                                      ║
║  [... текстовое поле ...]                                        ║
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │              ⏳ Улучшаем...                                │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║         ^                                                        ║
║    Loading spinner                                               ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝
```

### 6. Error State

```
╔══════════════════════════════════════════════════════════════════╗
║                                                                  ║
║  ✨ AI Assistant                                          [✕]    ║
║                                                                  ║
╠══════════════════════════════════════════════════════════════════╣
║                                                                  ║
║  [... текущая история ...]                                       ║
║  [... быстрые действия ...]                                      ║
║  [... текстовое поле ...]                                        ║
║                                                                  ║
║  ┌────────────────────────────────────────────────────────────┐ ║
║  │ ❌ Не удалось улучшить историю                             │ ║
║  │                                                            │ ║
║  │ OpenAI rate limit exceeded. Please try again later.       │ ║
║  └────────────────────────────────────────────────────────────┘ ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝
```

## Цветовая схема

### Градиенты
- **Header:** `purple-600` → `blue-600` (фиолетово-синий)
- **AI Button:** `purple-500` → `blue-500` (фиолетово-синий светлее)
- **Success:** `green-50` фон, `green-200` border, `green-700` текст
- **Error:** `red-50` фон, `red-200` border, `red-700` текст
- **Info:** `blue-50` фон, `blue-200` border, `blue-700` текст
- **Current Story:** `yellow-50` фон, `yellow-200` border

### Элементы
- **Quick Action Buttons:** белый фон, серая рамка → `purple-50` фон при hover
- **Main Button:** градиент purple-blue с белым текстом
- **Text:** серые оттенки (gray-600, gray-700, gray-800)

## Адаптивность

### Desktop (>768px)
```
┌──────────────────────────────────────────────────┐
│                Modal 800px                       │
│  ┌─────────────┐  ┌─────────────┐               │
│  │ Quick 1     │  │ Quick 2     │               │
│  └─────────────┘  └─────────────┘               │
│                                                  │
│  ┌─────────────┐  ┌─────────────┐               │
│  │ Quick 3     │  │ Quick 4     │               │
│  └─────────────┘  └─────────────┘               │
└──────────────────────────────────────────────────┘
```

### Mobile (<768px)
```
┌────────────────┐
│ Modal 90% width│
│                │
│ ┌────────────┐ │
│ │ Quick 1    │ │
│ └────────────┘ │
│                │
│ ┌────────────┐ │
│ │ Quick 2    │ │
│ └────────────┘ │
│                │
│ ┌────────────┐ │
│ │ Quick 3    │ │
│ └────────────┘ │
│                │
│ ┌────────────┐ │
│ │ Quick 4    │ │
│ └────────────┘ │
└────────────────┘
```

## Анимации

### 1. Открытие модального окна
- Fade in фона (0 → 0.5 opacity)
- Scale up модального окна (0.95 → 1.0)
- Duration: 200ms

### 2. Loading Spinner
- Infinite rotation animation
- Border-bottom animation

### 3. Quick Action Hover
- Border color transition: gray → purple
- Background color transition: white → purple-50
- Duration: 150ms

### 4. Success/Error появление
- Slide down from top
- Fade in
- Duration: 300ms

## Иконки (Emoji)

- ✨ AI Magic
- 📝 Details
- ✅ Criteria
- ✂️ Split
- ⚠️ Edge cases
- 📦 Story card
- ⏳ Loading
- ✓ Success
- ✗ Error
- ℹ️ Info
- 🔄 Apply
- ✕ Close

## Responsive Breakpoints

```css
/* Mobile First */
.modal {
  width: 90%;
  padding: 1rem;
}

/* Tablet */
@media (min-width: 640px) {
  .modal {
    width: 600px;
  }
}

/* Desktop */
@media (min-width: 768px) {
  .modal {
    width: 800px;
    padding: 1.5rem;
  }
  
  .quick-actions {
    grid-cols: 2; /* 2 колонки */
  }
}
```

## Accessibility

### Keyboard Navigation
- ✅ Tab для навигации между элементами
- ✅ Enter для активации кнопок
- ✅ Escape для закрытия модального окна
- ✅ Focus visible на всех интерактивных элементах

### Screen Readers
- ✅ `aria-label` на кнопках
- ✅ `role="dialog"` на модальном окне
- ✅ `aria-modal="true"`
- ✅ `aria-describedby` для описания контента

### Контраст
- ✅ Все тексты соответствуют WCAG AA (4.5:1)
- ✅ Кнопки имеют достаточный контраст (3:1)
- ✅ Focus indicators видимы

## Z-Index Layer

```
Background overlay: z-50
Modal: z-50
Close button: relative (в пределах modal)
Loading spinner: relative (в пределах modal)
```

---

**Дизайн-система:** Tailwind CSS  
**Компонент:** AIAssistant.jsx  
**Размер:** ~380 строк кода  
**Зависимости:** React, Axios, Tailwind CSS

