# AI User Story Mapper — Roadmap 2025

## Видение продукта

**AI User Story Mapper** — AI-партнёр для превращения идей в структурированные требования. Не просто генерация карты, а guided discovery: AI задаёт правильные вопросы, находит пробелы, оценивает риски и помогает приоритизировать.

```
Идея → [AI USM] → Структурированные требования → Аналитик → Разработка
         ↑
    Экономия 2-4 часов на каждом проекте
```

---

## Текущее состояние (v2.4)

```
✅ Двухэтапная AI-генерация (улучшение → генерация)
✅ AI Assistant для улучшения историй
✅ Drag & Drop перемещение
✅ Статусы (todo → in_progress → done → blocked)
✅ Анализ дубликатов (TF-IDF)
✅ Валидация качества (0-100 баллов)
✅ JWT аутентификация
✅ 4 AI провайдера с fallback
```

### Известные проблемы

| Проблема | Влияние | Решение |
|----------|---------|---------|
| Нет demo без регистрации | 70% уходят не попробовав | Фаза 0 |
| Ожидание 30 сек без feedback | Пользователи думают, что зависло | Фаза 1 |
| AI Assistant спрятан | Фичу не находят | Фаза 1 |
| Плоский список историй | Аналитику сложно работать | Фаза 2 |
| Нет экспорта в Figma/Jira | Копируют вручную | Фаза 3 |

---

## Roadmap

### Фаза 0: Быстрые победы (1 неделя)

**Цель:** Убрать барьеры входа, показать ценность мгновенно

| Задача | Описание |
|--------|----------|
| Demo без регистрации | Генерация 1 карты без email |
| 3 примера на главной | Кликабельные demo-карты |
| Контекстный прогресс | "Анализирую роли..." вместо спиннера |

```
┌─────────────────────────────────────┐
│  AI User Story Mapper               │
├─────────────────────────────────────┤
│                                     │
│  [Попробовать без регистрации]      │  ← Главный CTA
│                                     │
│  Примеры:                           │
│  ┌─────┐ ┌─────┐ ┌─────┐           │
│  │E-com│ │SaaS │ │Mobile│           │  ← Клик → просмотр
│  └─────┘ └─────┘ └─────┘           │
│                                     │
└─────────────────────────────────────┘
```

**Метрика:** Bounce rate < 60%

---

### Фаза 1: Streaming + Видимость (2 недели)

**Цель:** Убрать "мёртвое" ожидание, показать скрытые возможности

| Задача | Описание |
|--------|----------|
| Streaming генерации | Карта появляется по частям через SSE |
| Auto-показ анализа | "Найдено 3 дубликата" после генерации |
| AI Assistant в сайдбаре | Постоянно видимая панель рекомендаций |

```
Было:                          Стало:
┌──────────────────┐           ┌──────────────────┐
│                  │           │ ████████ 40%     │
│    Spinner...    │           │                  │
│    30 секунд     │           │ ┌──────────────┐ │
│                  │           │ │ Activity 1   │ │  ← Появляется
└──────────────────┘           │ │  └─ Task 1   │ │     по мере
                               │ │    └─ Story  │ │     генерации
                               │ └──────────────┘ │
                               └──────────────────┘
```

**Метрика:** Completion rate > 85%

---

### Фаза 2: Epic Breakdown + Share (2 недели)

**Цель:** Подготовка карты к передаче аналитику

| Задача | Описание |
|--------|----------|
| AI-группировка в эпики | 3-7 эпиков с confidence score |
| Epic Breakdown View | Второй режим: эпики → истории |
| Accept/Reject/Edit | Контроль над группировкой |
| Сводка для аналитика | Markdown с приоритетами и статистикой |
| Share Link (view-only) | Публичная ссылка без авторизации |

```
Story Map View:                 Epic Breakdown View:
┌─────────────────────┐         ┌─────────────────────┐
│ Activity │ Activity │         │ ┌─────────────────┐ │
├──────────┼──────────┤         │ │ Epic: Checkout  │ │
│ Task     │ Task     │         │ │ Stories: 5      │ │
├──────────┼──────────┤         │ │ Progress: 40%   │ │
│ Story    │ Story    │         │ └─────────────────┘ │
│ Story    │ Story    │         │ ┌─────────────────┐ │
│ Story    │          │         │ │ Epic: Auth      │ │
└──────────┴──────────┘         │ │ Stories: 3      │ │
                                │ └─────────────────┘ │
     [Toggle View]              └─────────────────────┘
```

**Почему важно:** Аналитик получает структурированный материал, а не плоский список.

**Метрика:** 70% используют Epic View перед передачей

---

### Фаза 3: FigJam Export (2-3 недели)

**Цель:** Интеграция с инструментами, которые команды уже используют

| Задача | Описание |
|--------|----------|
| Генерация .fig файла | Без OAuth на первом этапе |
| Sticky notes + Sections | Эпики = Sections, Stories = Stickies |
| Connectors | Связи между зависимыми историями |
| Превью перед экспортом | Показать результат до скачивания |

```
AI USM                              FigJam
┌─────────────────┐                ┌─────────────────────────┐
│ Epic: Checkout  │   [Export]     │ ┌─────────────────────┐ │
│ ├─ Story 1      │ ───────────►   │ │ Section: Checkout   │ │
│ ├─ Story 2      │                │ │ ┌───┐ ┌───┐ ┌───┐  │ │
│ └─ Story 3      │                │ │ │ S1│→│ S2│→│ S3│  │ │
└─────────────────┘                │ │ └───┘ └───┘ └───┘  │ │
                                   │ └─────────────────────┘ │
                                   └─────────────────────────┘
```

**Почему FigJam:** Команды уже работают там на discovery-фазе. API проще чем Jira.

**Метрика:** 50+ экспортов в неделю

---

### Фаза 4: Story Refinement Session (3-4 недели)

**Цель:** Радикальная дифференциация — диалоговый режим

| Задача | Описание |
|--------|----------|
| Chat UI | Альтернатива textarea |
| 5-7 структурированных вопросов | Продукт, аудитория, проблемы, действия |
| Режим Новичок/Эксперт | Больше/меньше вопросов |
| Генерация из диалога | Более качественные карты |

```
┌─────────────────────────────────────────┐
│  Как создать карту?                     │
│  ┌─────────┐  ┌─────────┐               │
│  │ Текст   │  │ Диалог  │               │
│  │ (быстро)│  │ (лучше) │               │
│  └─────────┘  └─────────┘               │
└─────────────────────────────────────────┘

Диалоговый режим:
┌─────────────────────────────────────────┐
│ AI: Опишите продукт одним предложением  │
│                                         │
│ User: Приложение для трекинга привычек  │
│                                         │
│ AI: Кто ваша целевая аудитория?         │
│     [ ] B2C  [ ] B2B  [ ] Оба           │
│                                         │
│ User: [B2C]                             │
│                                         │
│ AI: Какие 3 проблемы решает продукт?    │
│ ...                                     │
│                                         │
│ [Сгенерировать карту]                   │
└─────────────────────────────────────────┘
```

**Почему уникально:** Ни один конкурент не делает guided discovery.

**Метрика:** 30% выбирают Session вместо textarea

---

### Фаза 5: AI Strategist (4-5 недель)

**Цель:** Превратить карту в стратегический инструмент

| Задача | Описание |
|--------|----------|
| Gap Analysis | "Нет историй про авторизацию — добавить?" |
| Risk Assessment | "Эта история сложная: 3 системы затронуты" |
| Dependencies Graph | Визуализация блокировок |
| What-If Simulator | "Если убрать X, то Y невозможен" |

```
┌─────────────────────────────────────────┐
│  AI Strategist                          │
├─────────────────────────────────────────┤
│                                         │
│  ⚠️  Gap Analysis                       │
│  └─ Не найдено историй про:             │
│     • Авторизацию (критично)            │
│     • Обработку ошибок                  │
│     [+ Добавить]                        │
│                                         │
│  🔴 Риски                               │
│  └─ "Интеграция с платёжкой"            │
│     Сложность: Высокая                  │
│     Зависимости: 3 внешних API          │
│                                         │
│  🔗 Зависимости                         │
│  └─ [Граф] Checkout → Auth → Profile    │
│                                         │
└─────────────────────────────────────────┘
```

**Метрика:** Retention 7-day > 25%

---

### Фаза 6: Integrations (2-3 месяца)

**Цель:** Экспорт в рабочие инструменты команд

| Задача | Приоритет | Сложность |
|--------|-----------|-----------|
| Jira Export (CSV → API) | Высокий | Средняя |
| Linear Export | Средний | Низкая |
| Notion Export | Средний | Низкая |
| Real-time Collaboration | Низкий | Высокая |

---

## Timeline

```
2025
│
├─ Неделя 1      ─── Фаза 0: Быстрые победы
├─ Недели 2-3    ─── Фаза 1: Streaming
├─ Недели 4-5    ─── Фаза 2: Epic Breakdown ★
├─ Недели 6-8    ─── Фаза 3: FigJam Export ★
├─ Недели 9-12   ─── Фаза 4: Refinement Session ★
├─ Недели 13-17  ─── Фаза 5: AI Strategist
└─ Месяц 5+      ─── Фаза 6: Integrations

★ — ключевые дифференцирующие фичи
```

---

## Метрики успеха

| Фаза | Ключевая метрика | Цель | Текущее |
|------|------------------|------|---------|
| 0 | Bounce rate | < 60% | ~80% |
| 1 | Completion rate | > 85% | ~60% |
| 2 | Epic View usage | > 70% | — |
| 3 | Exports/week | > 50 | — |
| 4 | Session adoption | > 30% | — |
| 5 | 7-day retention | > 25% | ~10% |

---

## Конкурентная матрица

| Возможность | Jira | Miro | StoriesOnBoard | ChatGPT | AI USM |
|-------------|------|------|----------------|---------|--------|
| AI генерация | — | — | — | ✓ text | ✓ structured |
| Визуализация | ✓ | ✓ | ✓ | — | ✓ |
| Epic grouping | ✓ manual | ✓ manual | ✓ manual | — | ✓ AI |
| Gap Analysis | — | — | — | — | ✓ |
| Risk Assessment | — | — | — | — | ✓ |
| FigJam export | — | native | — | — | ✓ |
| Guided discovery | — | — | — | — | ✓ |

---

## Техническая готовность

Текущий стек полностью покрывает roadmap:

| Компонент | Стек | Готовность |
|-----------|------|------------|
| Backend | FastAPI + PostgreSQL | ✅ |
| Frontend | React + Vite + Tailwind | ✅ |
| AI | Gemini + fallbacks | ✅ |
| Streaming | SSE (FastAPI native) | ⚠️ добавить |
| FigJam | REST API + .fig format | ⚠️ добавить |
| Real-time | WebSocket/CRDT | ❌ потребует рефакторинг |

---

## Лицензия

MIT — Open Source проект.

Стратегия: Open Core
- Базовые функции: бесплатно
- AI Strategist, интеграции: потенциально premium

---

*Последнее обновление: Декабрь 2025*
