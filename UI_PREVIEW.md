# 🎨 Превью UI с AI-агентом

## Как выглядит checkbox в форме

```
┌─────────────────────────────────────────────────────────────────────┐
│  Создать новый проект                                          [✕]  │
│  Превратите ваши требования в структурированную карту               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ Опишите ваш продукт (например: Приложение для доставки...   │ │
│  │                                                              │ │
│  │ Мобильное приложение для доставки еды.                      │ │
│  │ Пользователи могут заказывать еду из ресторанов...          │ │
│  │                                                              │ │
│  └───────────────────────────────────────────────────────────────┘ │
│  120 / 10000 символов                                               │
│                                                                     │
│  ╔═══════════════════════════════════════════════════════════════╗ │
│  ║ ☑️ 🤖 AI-Агент (MVP)            [+15% качество]              ║ │
│  ║                                                               ║ │
│  ║ Улучшенная генерация с автоматической валидацией и           ║ │
│  ║ исправлением ошибок. Агент проверит структуру карты и        ║ │
│  ║ автоматически исправит критические проблемы.                 ║ │
│  ║                                                               ║ │
│  ║ ✅ Валидация    ✅ Автоисправление    ✅ Метрики качества    ║ │
│  ╚═══════════════════════════════════════════════════════════════╝ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │         ✨ Сгенерировать с улучшением (рекомендуется)        │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │              Сгенерировать без улучшения                     │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  💡 Two-Stage AI: сначала AI улучшает требования, затем             │
│     генерирует качественную карту                                   │
└─────────────────────────────────────────────────────────────────────┘
```

## Цветовая схема

### Checkbox блок (когда НЕ отмечен):
- **Фон**: Gradient от светло-голубого (#F0F9FF) до светло-индиго (#EEF2FF)
- **Граница**: Голубая (#BFDBFE)
- **Текст**: Темно-серый (#1F2937)
- **Иконка**: Стандартная серая

### Checkbox блок (когда ОТМЕЧЕН):
- **Фон**: Тот же gradient (не меняется)
- **Граница**: Голубая (не меняется)
- **Checkbox**: Голубой (#2563EB) с галочкой
- **Текст заголовка**: Темнеет при hover (#1D4ED8)

### Бейдж "+15% качество":
- **Фон**: Светло-зеленый (#D1FAE5)
- **Текст**: Темно-зеленый (#065F46)
- **Шрифт**: Полужирный, маленький

### Иконки (галочки):
- **Цвет**: Зеленый (#10B981)
- **Размер**: Маленькие (12x12px)

## Состояния

### 1. По умолчанию (НЕ отмечен):
```
☐ 🤖 AI-Агент (MVP)  [+15% качество]
```

### 2. Отмечен:
```
☑️ 🤖 AI-Агент (MVP)  [+15% качество]
```

### 3. Disabled (во время загрузки):
```
☐ 🤖 AI-Агент (MVP)  [+15% качество]
   (полупрозрачный, курсор not-allowed)
```

### 4. Hover:
```
☐ 🤖 AI-Агент (MVP)  [+15% качество]
   ^^^^^^^^^^^^^^^^ (текст становится синим)
```

## Responsive поведение

### Desktop (>768px):
```
┌─────────────────────────────────────────────┐
│ ☑️ 🤖 AI-Агент (MVP)    [+15% качество]     │
│                                             │
│ Улучшенная генерация с автоматической...   │
│                                             │
│ ✅ Валидация ✅ Автоисправление ✅ Метрики  │
└─────────────────────────────────────────────┘
```

### Mobile (<768px):
```
┌───────────────────────────┐
│ ☑️ 🤖 AI-Агент (MVP)      │
│    [+15% качество]        │
│                           │
│ Улучшенная генерация      │
│ с автоматической...       │
│                           │
│ ✅ Валидация              │
│ ✅ Автоисправление        │
│ ✅ Метрики качества       │
└───────────────────────────┘
```

## Текст подсказки

### Основной текст:
> Улучшенная генерация с автоматической валидацией и исправлением ошибок.
> Агент проверит структуру карты и автоматически исправит критические проблемы.

### Фичи:
- ✅ **Валидация** - проверка структуры карты
- ✅ **Автоисправление** - исправление критических ошибок
- ✅ **Метрики качества** - validation score и статистика

## Примеры использования

### Пример 1: Первое использование

Пользователь видит checkbox и думает:
> "Что это за AI-агент? Посмотрю что написано..."

Читает:
> "Улучшенная генерация с автоматической валидацией..."
> "+15% качество"

Решает:
> "Попробую! Звучит полезно"

✅ Ставит галочку

### Пример 2: Опытный пользователь

Видит бейдж "+15% качество" → сразу ставит галочку без чтения

### Пример 3: Сравнение

Генерирует 2 карты:
1. Без агента - quality score 75%
2. С агентом - quality score 92%

Видит разницу → теперь всегда использует агента

## Accessibility (a11y)

### Клавиатура:
- Tab - переход на checkbox
- Space - toggle checkbox
- Enter - не меняет состояние (только Space)

### Screen readers:
```html
<label>
  <input
    type="checkbox"
    aria-label="Использовать AI-агента для генерации"
  />
  AI-Агент (MVP)
</label>
```

### Focus state:
```
☐ 🤖 AI-Агент (MVP)
  ^^^^^^^^^^^^^ (синяя рамка focus:ring-2)
```

## Анимации

### При наведении (hover):
- Текст плавно меняет цвет (transition 150ms)
- Граница блока остается без изменений

### При клике:
- Checkbox моментально меняет состояние
- Нет дополнительной анимации (для быстроты)

### Disabled состояние:
- opacity: 0.5
- cursor: not-allowed
- Нельзя кликнуть

## Интеграция с остальным UI

### Расположение:
```
[Textarea для требований]
        ↓
[Счетчик символов]
        ↓
[Прогресс-бар] (если загрузка)
        ↓
[Ошибка] (если есть)
        ↓
[🤖 AI-Агент checkbox] ← ВОТ ЗДЕСЬ
        ↓
[Кнопка "Сгенерировать с улучшением"]
        ↓
[Кнопка "Сгенерировать без улучшения"]
```

### Отступы:
- Margin bottom: 1rem (16px)
- Padding внутри блока: 1rem (16px)
- Gap между элементами: 0.75rem (12px)

## Примеры кода для проверки

### Проверить что checkbox работает:

```javascript
// Открыть консоль браузера (F12)
// Выполнить:
document.querySelector('input[type="checkbox"]').checked
// Должно вернуть: true или false
```

### Проверить что параметр отправляется:

```javascript
// В Network вкладке найти запрос /generate-map
// Посмотреть Payload:
{
  "use_agent": true  // если галочка стоит
}
```

## Готово! 🎨

Checkbox красиво интегрирован в UI и готов к использованию.

---

**Статус**: ✅ UI реализован и готов к тестированию
**Дата**: 2025-12-05
