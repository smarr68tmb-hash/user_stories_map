{
  "id": -100,
  "name": "Hybe Assist - Проактивные рекомендации",
  "raw_requirements": "Система проактивных рекомендаций от Full-пользователей к Self-клиентам в Hybe Assist. Full-пользователь может инициировать рекомендации по оптимизации кампаний без предварительной заявки. Self-пользователь может просматривать и применять рекомендации в один клик.",
  "demo_mode": true,
  "activities": [
    {
      "id": -101,
      "title": "Создание рекомендации (Full)",
      "position": 0,
      "tasks": [
        {
          "id": -1001,
          "title": "Выбор кампании",
          "position": 0,
          "stories": [
            {
              "id": -10001,
              "title": "Переход в режим Hybe Assist",
              "description": "Full-пользователь переходит в режим создания рекомендации со страницы статистики кампаний",
              "priority": "MVP",
              "acceptance_criteria": [
                "Кнопка 'Создать рекомендацию' видна на странице статистики",
                "При клике открывается режим выбора кампании",
                "Отображается структура папок с кампаниями"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10002,
              "title": "Выбор одной кампании из списка",
              "description": "Full может выбрать только одну кампанию для создания рекомендации",
              "priority": "MVP",
              "acceptance_criteria": [
                "Отображаются кампании со статусом 'Активные' и 'Неактивные'",
                "Сохраняется структура папок",
                "Возможность выбора только одной кампании (radio button)",
                "Кнопка 'Далее' активна только после выбора кампании"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            }
          ]
        },
        {
          "id": -1002,
          "title": "Настройка рекомендации",
          "position": 1,
          "stories": [
            {
              "id": -10003,
              "title": "Изменение настроек кампании",
              "description": "Full-пользователь может изменить любые настройки кампании включая скрытые от Self",
              "priority": "MVP",
              "acceptance_criteria": [
                "Все настройки кампании доступны для изменения",
                "Скрытые настройки (CCO, Ensemble) доступны без ограничений",
                "Интерфейс аналогичен обычным настройкам кампании",
                "Отображается сравнение 'старое → новое значение'"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10004,
              "title": "Добавление комментария",
              "description": "Full может добавить текстовый комментарий к рекомендации",
              "priority": "MVP",
              "acceptance_criteria": [
                "Поле комментария скрыто под '+' по умолчанию",
                "Минимум 3, максимум 1000 символов",
                "Комментарий опциональный (не обязательный)",
                "Подсчет символов отображается"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            },
            {
              "id": -10005,
              "title": "Валидация перед созданием",
              "description": "Система проверяет что заполнено хотя бы: комментарий ИЛИ изменена настройка",
              "priority": "MVP",
              "acceptance_criteria": [
                "Кнопка 'Создать' заблокирована до выполнения условий",
                "Должен быть заполнен комментарий ИЛИ изменена хотя бы одна настройка",
                "Отображается подсказка о требованиях валидации"
              ],
              "release_id": -1,
              "position": 2,
              "status": "todo"
            }
          ]
        },
        {
          "id": -1003,
          "title": "Отправка рекомендации",
          "position": 2,
          "stories": [
            {
              "id": -10006,
              "title": "Создание рекомендации в системе",
              "description": "Рекомендация сохраняется и становится видна Self-пользователю",
              "priority": "MVP",
              "acceptance_criteria": [
                "Рекомендация сохраняется в БД со статусом 'Не просмотрено'",
                "Рекомендация появляется в табе 'Рекомендации' у Self",
                "Счетчик у таба увеличивается",
                "Full видит созданную рекомендацию в своем списке"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10007,
              "title": "Email-уведомление Self-пользователю",
              "description": "При создании рекомендации отправляется email всем Self-администраторам",
              "priority": "MVP",
              "acceptance_criteria": [
                "Письмо отправляется администраторам (не @hybe.io, не @hybrid.ai)",
                "Тема: 'Новая рекомендация Hybe Assist в %Аккаунт%'",
                "Тело: название кампании и приложения",
                "Отправка с noreply@hybe.io",
                "Логирование ошибок отправки в Elastic"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            }
          ]
        }
      ]
    },
    {
      "id": -102,
      "title": "Просмотр рекомендаций (Self)",
      "position": 1,
      "tasks": [
        {
          "id": -1004,
          "title": "Таб 'Рекомендации'",
          "position": 0,
          "stories": [
            {
              "id": -10008,
              "title": "Отображение таблицы рекомендаций",
              "description": "Self-администратор видит список всех рекомендаций в табе Hybe Assist",
              "priority": "MVP",
              "acceptance_criteria": [
                "Таб видят только пользователи с уровнем 'Администратор'",
                "Колонки: Дата, Статус, Название РК, Приложение",
                "Счетчик показывает количество непросмотренных",
                "Статусы: 'Не просмотрено', 'Просмотрено'"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10009,
              "title": "Поиск и фильтрация",
              "description": "Self может искать и фильтровать рекомендации",
              "priority": "Release 1",
              "acceptance_criteria": [
                "Поиск от 3 символов по кампании/приложению",
                "Фильтр 'Все' показывает все рекомендации",
                "Фильтр 'Непросмотренные' с счетчиком",
                "Сортировка по дате, названию РК, приложению"
              ],
              "release_id": -2,
              "position": 1,
              "status": "todo"
            },
            {
              "id": -10010,
              "title": "Просмотр деталей рекомендации",
              "description": "При клике на строку открывается модальное окно с деталями",
              "priority": "MVP",
              "acceptance_criteria": [
                "При наведении появляется опция 'Просмотреть'",
                "При открытии статус меняется 'Не просмотрено' → 'Просмотрено'",
                "Модальное окно показывает изменения старое/новое",
                "Кнопка 'Перейти в кампанию' (открывается в новой вкладке)"
              ],
              "release_id": -1,
              "position": 2,
              "status": "todo"
            }
          ]
        },
        {
          "id": -1005,
          "title": "Модальное окно рекомендации",
          "position": 1,
          "stories": [
            {
              "id": -10011,
              "title": "Отображение изменений",
              "description": "Self видит только доступные ему настройки в формате старое → новое",
              "priority": "MVP",
              "acceptance_criteria": [
                "История изменений в формате 'было → стало'",
                "Скрытые настройки не отображаются для Self",
                "Дата создания рекомендации",
                "Комментарий Full (если был добавлен)"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10012,
              "title": "Кнопка 'Перейти в кампанию'",
              "description": "Переход в настройки кампании для которой создана рекомендация",
              "priority": "MVP",
              "acceptance_criteria": [
                "Кнопка видна для Full и Self",
                "Открывается в новой вкладке",
                "Открывает страницу настроек конкретной кампании"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            }
          ]
        }
      ]
    },
    {
      "id": -103,
      "title": "Применение рекомендации (Self)",
      "position": 2,
      "tasks": [
        {
          "id": -1006,
          "title": "Принятие изменений",
          "position": 0,
          "stories": [
            {
              "id": -10013,
              "title": "Кнопка 'Применить изменения'",
              "description": "Self применяет все рекомендованные настройки в один клик",
              "priority": "MVP",
              "acceptance_criteria": [
                "Все изменения применяются к кампании",
                "Применяются ВСЕ настройки включая скрытые от Self",
                "После применения модальное окно закрывается",
                "Рекомендация перемещается в таб 'Ответы'"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10014,
              "title": "Email-уведомление Full о принятии",
              "description": "При принятии отправляется письмо инициатору рекомендации",
              "priority": "MVP",
              "acceptance_criteria": [
                "Письмо отправляется Full-пользователю (инициатору)",
                "Тема: 'Ответ на рекомендацию Hybe Assist в %Аккаунт%'",
                "Тело: менеджер принял рекомендацию",
                "Логирование ошибок в Elastic"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            }
          ]
        },
        {
          "id": -1007,
          "title": "Отклонение изменений",
          "position": 1,
          "stories": [
            {
              "id": -10015,
              "title": "Кнопка 'Отклонить изменения'",
              "description": "Self может отклонить рекомендацию с указанием причины",
              "priority": "MVP",
              "acceptance_criteria": [
                "При клике открывается модальное окно с полем причины",
                "Причина обязательна: от 3 до 1000 символов",
                "Кнопка 'Отправить' заблокирована до валидации",
                "Кнопка 'Назад' возвращает к просмотру рекомендации"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10016,
              "title": "Сохранение отклонения",
              "description": "При отклонении изменения НЕ применяются к кампании",
              "priority": "MVP",
              "acceptance_criteria": [
                "Настройки кампании НЕ изменяются",
                "Рекомендация перемещается в таб 'Ответы'",
                "У Full появляется в фильтре 'Новые отклоненные'",
                "Причина отклонения сохраняется"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            },
            {
              "id": -10017,
              "title": "Email-уведомление Full об отклонении",
              "description": "При отклонении отправляется письмо с причиной инициатору",
              "priority": "MVP",
              "acceptance_criteria": [
                "Письмо отправляется Full-пользователю",
                "Тема: 'Ответ на рекомендацию Hybe Assist в %Аккаунт%'",
                "Тело содержит причину отклонения",
                "Логирование ошибок в Elastic"
              ],
              "release_id": -1,
              "position": 2,
              "status": "todo"
            }
          ]
        }
      ]
    },
    {
      "id": -104,
      "title": "Управление рекомендациями (Full)",
      "position": 3,
      "tasks": [
        {
          "id": -1008,
          "title": "Просмотр созданных рекомендаций",
          "position": 0,
          "stories": [
            {
              "id": -10018,
              "title": "Таблица рекомендаций для Full",
              "description": "Full видит все созданные им рекомендации и их статусы",
              "priority": "MVP",
              "acceptance_criteria": [
                "Колонки: Дата, Статус, РК, Приложение, Инициатор",
                "Поиск от 3 символов по РК/приложению/инициатору",
                "Сортировка по дате, названию РК, приложению",
                "Нет фильтров (только поиск)"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10019,
              "title": "Просмотр деталей (Full)",
              "description": "Full может открыть любую рекомендацию для просмотра",
              "priority": "MVP",
              "acceptance_criteria": [
                "Модальное окно в режиме 'только чтение'",
                "Видны все изменения включая скрытые от Self",
                "Нет кнопок действий (только просмотр)",
                "Кнопка 'Перейти в кампанию'"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            }
          ]
        },
        {
          "id": -1009,
          "title": "Таб 'Ответы'",
          "position": 1,
          "stories": [
            {
              "id": -10020,
              "title": "Просмотр принятых/отклоненных",
              "description": "Full видит результаты своих рекомендаций в табе Ответы",
              "priority": "Release 1",
              "acceptance_criteria": [
                "Отклоненные рекомендации в фильтре 'Новые отклоненные'",
                "Видна причина отклонения от Self",
                "Принятые рекомендации также отображаются",
                "Счетчик новых ответов"
              ],
              "release_id": -2,
              "position": 0,
              "status": "todo"
            }
          ]
        }
      ]
    },
    {
      "id": -105,
      "title": "Уведомления и счетчики",
      "position": 4,
      "tasks": [
        {
          "id": -1010,
          "title": "Счетчик раздела Hybe Assist",
          "position": 0,
          "stories": [
            {
              "id": -10021,
              "title": "Счетчик для Full",
              "description": "Показывает количество непросмотренных заявок (старая логика)",
              "priority": "Release 1",
              "acceptance_criteria": [
                "Отображает заявки со статусом 'Не просмотрено'",
                "Логика не изменяется"
              ],
              "release_id": -2,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10022,
              "title": "Счетчик для Self",
              "description": "Сумма непросмотренных ответов и рекомендаций",
              "priority": "Release 1",
              "acceptance_criteria": [
                "Ответы со статусом 'Не просмотрено' (старая логика)",
                "+ Рекомендации со статусом 'Не просмотрено'",
                "Отображается общая сумма"
              ],
              "release_id": -2,
              "position": 1,
              "status": "todo"
            }
          ]
        },
        {
          "id": -1011,
          "title": "Email-уведомления",
          "position": 1,
          "stories": [
            {
              "id": -10023,
              "title": "Настройка email-сервиса",
              "description": "Интеграция с email-сервисом для отправки уведомлений",
              "priority": "MVP",
              "acceptance_criteria": [
                "Отправка с noreply@hybe.io",
                "Только русский язык",
                "Логирование ошибок в Elastic",
                "Retry механизм при сбоях"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            }
          ]
        }
      ]
    },
    {
      "id": -106,
      "title": "Права доступа",
      "position": 5,
      "tasks": [
        {
          "id": -1012,
          "title": "Управление видимостью таба",
          "position": 0,
          "stories": [
            {
              "id": -10024,
              "title": "Доступ только для Администраторов",
              "description": "Таб 'Рекомендации' видят только пользователи с правами Администратора",
              "priority": "MVP",
              "acceptance_criteria": [
                "Full Администратор (permissionType=1) - видит",
                "Self Администратор (permissionType=1) - видит",
                "Agency Manager (permissionType=2) - НЕ видит",
                "Manager (permissionType=3) - НЕ видит"
              ],
              "release_id": -1,
              "position": 0,
              "status": "todo"
            },
            {
              "id": -10025,
              "title": "Ограничение по TradingDesk",
              "description": "Функционал доступен только для Hybe TradingDesk",
              "priority": "MVP",
              "acceptance_criteria": [
                "Проверка что пользователь относится к Hybe",
                "Для других TradingDesk таб скрыт"
              ],
              "release_id": -1,
              "position": 1,
              "status": "todo"
            }
          ]
        }
      ]
    }
  ],
  "releases": [
    {
      "id": -1,
      "title": "MVP",
      "position": 0
    },
    {
      "id": -2,
      "title": "Release 1",
      "position": 1
    },
    {
      "id": -3,
      "title": "Later",
      "position": 2
    }
  ]
}
